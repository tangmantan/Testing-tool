# 音视频图片文件分割与生成工具

这是一个基于Flask的Web应用程序，提供两种主要功能：
1. **文件分割**：将音视频、图片文件按指定大小分割成多个小文件
2. **文件生成**：生成指定类型和大小的文件，用于测试和演示

## 功能特点

1. **文件分割**：支持将音视频、图片文件按照指定大小分割成两部分
   
   - 第一部分：指定大小和格式的文件，确保可正常播放/查看
   - 第二部分：剩余部分，不关心格式和是否可正常打开

2. **格式支持**：
   
   - 视频格式：MP4, AVI, MOV, MKV, WMV, FLV, WebM
   - 音频格式：MP3, WAV, FLAC, AAC, OGG, WMA
   - 图片格式：JPG, JPEG, PNG, GIF, BMP, TIFF, WebP

3. **Web界面**：提供直观的Web操作界面，支持文件拖放上传

4. **文件管理**：支持删除分割后的文件

5. **格式预设**：提供常用格式选择，支持大小写格式

6. **用户体验优化**：
   
   - 移除了文件数量估算提示
   - 移除了"目标大小大于文件大小"的警告提示
   - 简化界面，减少不必要的干扰信息

## 系统要求

- Python 3.7+
- FFmpeg（用于音视频处理）
- 现代Web浏览器（Chrome、Firefox、Edge等）

## 安装步骤

1. **安装Python**：
   
   - 从 https://www.python.org/downloads/ 下载并安装Python
   - 确保将Python添加到系统PATH中

2. **安装FFmpeg**：
   
   - 从 https://ffmpeg.org/download.html 下载FFmpeg
   - 解压并将bin目录添加到系统PATH中

3. **安装依赖**：
   
   - 进入项目目录
   - 运行 `pip install -r requirements.txt`

## 使用方法

1. 进入项目目录，打开命令行，
2. 运行 conda activate myenv3.12
3. 运行 python app.py
4. 在浏览器中打开 http://127.0.0.1:5000

## 使用说明

1. **选择文件**：
   
   - 点击上传区域或拖拽文件到上传区域
   - 支持的文件格式：MP4, AVI, MOV, MP3, WAV, JPG, PNG等

2. **设置分割参数**：
   
   - 输入目标文件大小（MB）
   - 选择输出格式（根据文件类型自动推荐）
   - 注意：当目标大小大于文件大小时，输入框会标记为红色，但不会显示警告信息

3. **执行分割**：
   
   - 点击"开始分割"按钮
   - 等待处理完成

4. **管理输出文件**：
   
   - 查看分割结果
   - 删除文件
   - 查看所有历史输出文件

## 技术实现

- **后端**：使用Python Flask框架
- **前端**：使用Bootstrap 5和原生JavaScript
- **文件处理**：使用FFmpeg进行音视频处理
- **分割逻辑**：参考Git split命令的分割方式

## 注意事项

1. 确保有足够的磁盘空间存储分割后的文件
2. 大文件处理可能需要较长时间，请耐心等待
3. 第一个分割文件将确保可正常播放/查看，第二个文件可能无法正常打开
4. 分割后的文件保存在output目录中，可随时清理
5. 目标大小大于文件大小时，输入框会标记为红色，但仍可正常处理

## 常见问题

### Q: 提示"未找到FFmpeg"

A: 请确保已安装FFmpeg并添加到系统PATH中，可以从 https://ffmpeg.org/download.html 下载

### Q: 分割后的文件无法播放

A: 只有第一个分割文件保证可正常播放，第二个文件是剩余部分，可能无法正常打开

### Q: 上传文件失败

A: 检查文件格式是否支持，以及文件大小是否超过限制（16GB）

### Q: 为什么没有显示"预计将生成X个文件"的提示？

A: 为了简化界面，减少不必要的干扰信息，已移除文件数量估算提示。

### Q: 为什么输入的目标大小大于文件大小时没有警告提示？

A: 为了简化用户体验，已移除"目标大小大于文件大小"的警告提示，但输入框会标记为红色以示提醒。

## 许可证

本项目采用MIT许可证，详见LICENSE文件

## 更新日志

### v1.1.0（最新版本）

- 移除了"预计将生成X个文件"的提示信息
- 移除了"目标大小大于文件大小"的警告提示
- 优化了用户界面，减少不必要的干扰信息
- 保留了输入框的红色标记功能，以提醒用户输入值可能不合适

### v1.0.0

- 初始版本
- 支持音视频图片文件分割
- 提供Web界面操作
- 支持文件预览、下载和删除
